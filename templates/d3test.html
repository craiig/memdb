<!DOCTYPE html>
<title>D3 Test for Memory Visualization</title>
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="d3test.json" charset="utf-8"></script>
<!-- <script src="d3.v3.min.js" charset="utf-8"></script> -->

<style>
.overlay {
  fill: none;
  stroke: gray;
  stroke-width: 1px;
  pointer-events: all;
}
</style>
<body> 
	<svg></svg>
	<p class="selected_details">hi<p>
</body>

<script>

//svg parameters
var width = 800
var height = 400
var svg = d3.select("body").select("svg")
	.attr("width", width)
	.attr("height", height)
	.append("g")
		.call(d3.behavior.zoom().scaleExtent([1, 8]).on("zoom", zoom))
	.append("g");

//rect to receive zoom events & border the data pointers
svg.append("rect") 
    .attr("class", "overlay")
    .attr("width", width)
    .attr("height", height);

//set up rectangle data points
var point_group = svg.append("g"); //use a group to differentiate between the rect for the border, and rects for the points
var c = point_group.selectAll("rect").data(datapoints)
c.enter().append("rect")
    .attr("x", function(d){ return d.x })
    .attr("y", function(d){ return d.y })
    .attr("cx", function(d){ return d.x })
    .attr("cy", function(d){ return d.y })
    .attr("r", function(d){ return d.r })
    .attr("width", function(d){ return d.r })
    .attr("height", function(d){ return d.r })
    .style("fill", function(d){ return d.color })
    .on("click", function(d){  //set up what happens when someone clicks on a data point
    		d3.select(".selected_details").text(d.name) 
    })

c.exit().remove();

function zoom() {
  svg.attr("transform", "translate(" + d3.event.translate + ")scale(" + d3.event.scale + ")");
}

</script>